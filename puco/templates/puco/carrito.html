{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    
    <script>
        function Agregar(ele){
            key =ele.getAttribute("id");
            console.log(ele.getAttribute("id"));
            var xhr= new XMLHttpRequest();
            
                  
            xhr.open("get","/agregarProductoCarro?id="+key);
            location.reload();
            xhr.send();
            
        }
        function Eliminar(ele){
            key =ele.getAttribute("id");
            console.log(ele.getAttribute("id"));
            var xhr= new XMLHttpRequest();
            xhr.open("get","/eliminarProductoCarro?id="+key);
            location.reload();
            xhr.send();
            
        }
        function Menos(ele){
            key =ele.getAttribute("id");
            console.log(ele.getAttribute("id"));
            var xhr= new XMLHttpRequest();
            xhr.open("get","/menosProductoCarro?id="+key);
            location.reload();
            xhr.send();
            
        }
        function borrar(ele){
            key =ele.getAttribute("id");
            console.log(ele.getAttribute("id"));
            var xhr= new XMLHttpRequest();
            xhr.open("get","/eliminarCarro?");
            location.reload();
            xhr.send();
           
        }
        //oferta/
        function Agregar1(ele){
            key =ele.getAttribute("id");
            console.log(ele.getAttribute("id"));
            var xhr= new XMLHttpRequest();
            xhr.open("get","/agregarOfertaCarro?id="+key);
            location.reload();
            xhr.send();
       
            
        }
        function Eliminar1(ele){
            key =ele.getAttribute("id");
            console.log(ele.getAttribute("id"));
            var xhr= new XMLHttpRequest();
            xhr.open("get","/eliminarOfertaCarro?id="+key);
            location.reload();
            xhr.send();
          
        }
        function Menos1(ele){
            key =ele.getAttribute("id");
            console.log(ele.getAttribute("id"));
            var xhr= new XMLHttpRequest();
            xhr.open("get","/menosOfertaCarro?id="+key);
            location.reload();
            xhr.send();
      
        }

    </script>

</head>
    <body>
        <div class="header col-12">
            <div class="row">
                <div class="col-sm-12 col-md-3 center">
                    <img class="logo" src="{% static 'Images/logotipo.png' %}">
                </div>
                    
                <div class="col-12 col-md-6 center">
                    <ul class="col-md-12">
                        <li class="menu"><a onclick="history.back(-1)" class="link-button link-back-button">volver</a></li>
                    
                        <li class="menu"><a href="/">Contacto</a></li>
                        <li class="menu"><a href="login">inicio secion</a></li>
                        <li class="menu"><a href="carrito">carrito</a></li>

                    </ul>
                </div>
            </div>
        </div> 

        


        <div class="col-12 center">
            <h1> productos en el carrito</h1>
            <div class=" row  col-10" >
                        

                <li class="menu" style="width: 24%; padding: 0;">nombre</li>
                <li class="menu" style="width: 24%; padding: 0;">cantidad</li>
                <li class="menu" style="width: 24%; padding: 0;">preciounidad</li>
                <li class="menu" style="width: 24%; padding: 0;">preciototal</li>

            </div>
            <div class="row" style="display:block;">
                {% for key,value in carrito %}
    
                    
                    <div class="row" >
                        <div class="  col-10" style="display: block;">
                            <li class="menu" style="width: 24%; padding: 0; ">{{ value.nombre }}</li>
                            <li class="menu" style="width: 24%; padding: 0;">{{ value.cantidad}}</li>
                            <li class="menu" style="width: 24%; padding: 0;"><span>$</span>{{ value.precio }}</li>
                            <li class="menu" style="width: 24%; padding: 0;"><span>$</span>{{ value.subTotal }}</li>
                        </div>
                        <div class="col-2" >
                            <button style="text-align: center;"id={{key}} onclick="Agregar(this); location.reload()">+1</button>              
                            <button style="text-align: center;" id={{key}} onclick="Menos(this)">-1</button>
                            <button style="text-align: center;" id={{key}} onclick="Eliminar(this)">eliminar</button>

                        </div>
                    
                        
                        
  
                    </div>
                     
                {% endfor %}
               <!-- <form action="/eliminarCarro">
                <button style="width: 12.5%; padding: 0;">borrar el carrito</button>
                </form>-->
            </div> 

            <div class="row" style="display:block;">
                {% for key,value in carrito1 %}
    
                    
                    
                <div class="row" >
                    <div class="  col-10" style="display: block;">
                        <li class="menu" style="width: 24%; padding: 0; ">{{ value.nombre }}</li>
                        <li class="menu" style="width: 24%; padding: 0;">{{ value.cantidad}}</li>
                        <li class="menu" style="width: 24%; padding: 0;"><span>$</span>{{ value.precio }}</li>
                        <li class="menu" style="width: 24%; padding: 0;"><span>$</span>{{ value.subTotal }}</li>
                    </div>
                    <div class="col-2" >
                        <button style="text-align: center;"id={{key}} onclick="Agregar1(this); location.reload()">+1</button>              
                        <button style="text-align: center;" id={{key}} onclick="Menos1(this)">-1</button>
                        <button style="text-align: center;" id={{key}} onclick="Eliminar1(this)">eliminar</button>

                    </div>
                        
                    </div>
                     
                {% endfor %}
               <!-- <form action="/eliminarCarro">
                <button style="width: 12.5%; padding: 0;">borrar el carrito</button>
                </form>-->
            </div> 
            <!--<div><p>{{ total}}</p></div>-->

        </div>
    

        <div class="footer col-md-12" style="position:absolute;">
            <div class="row">
            <div class="col-sm-12 col-md-6 col-lg-3" >
                <ul><h2 style="color: black">Menu</h2>
                     <li><a href="/">Inicio</a></li>
                  
                     <li><a href="/">Contacto</a></li>
                     <li><a href="/">inicio secion</a></li>

                </ul>  
            </div>
            <div class="col-sm-12 col-md-6 col-lg-3" >
                <ul><h2 style="color: black">servicios</h2>
                    <li><a href="#">domiciliario</a></li>
                    <li><a href="#">telefonico</a></li>
                    <li><a href="#">local</a></li>

                </ul>  
            </div>
            <div class="col-sm-12 col-md-6 col-lg-3" >
                <ul><h2 style="color: black">horarios</h2>
                    <li><a href="#">lunea a viernes <br>   
                    8:00 a 22:00</a></li>
                    <li><a href="#">sabado a domingo <br>   
                     9:00 a 21:00</a></li>

                </ul>  
            </div>
            <div class="col-sm-12 col-md-6 col-lg-3" >
                <ul><h2 style="color: black">Especialistas</h2>
                    <li><a href="#">Oscar Quezada</a></li>
                    <li><a href="#">Andrew Quezada</a></li>
                    <li><a href="#">Jose Caro</a></li>
                   

                </ul> 


            </div>
            <div class="col-12">
                <p class="center" style=" color: black;">Antonio Varas 666, Providencia, Regi√≥n Metropolitana</p>
            </div>
            <div style="text-align: end;" class="col-sm-12">

                <div class=" col-sm-12">
                    <a href="https://www.facebook.com/"><img class="web" style="left: auto" src="https://images.vexels.com/media/users/3/137253/isolated/preview/90dd9f12fdd1eefb8c8976903944c026-icono-de-facebook-logo-by-vexels.png"></a>
                    <a href="https://web.whatsapp.com/"> <img class="web" style="left: auto" src="https://img.icons8.com/plasticine/2x/whatsapp.png"></a>
                    <a href="https://www.instagram.com/"><img class="web" style="left: auto" src="https://logodownload.org/wp-content/uploads/2017/04/instagram-logo-6.png"></a>
                </div>
            </div>
        </div>
   
    </body>

</html>    